(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"2W6z":function(t,e,n){"use strict";var i=function(){};t.exports=i},"82Mt":function(t,e,n){t.exports=n("L37t")},L37t:function(t,e,n){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t.default:t}var a=n("q1tI"),r=i(a),s=n("i8i4");n("17x9");var o=i(n("QLaP"));function l(){return(l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,function(t,e){for(var n=Object.getOwnPropertyNames(e),i=0;i<n.length;i++){var a=n[i],r=Object.getOwnPropertyDescriptor(e,a);r&&r.configurable&&void 0===t[a]&&Object.defineProperty(t,a,r)}}(t,e)}function c(t,e){if(null==t)return{};var n,i,a={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],e.indexOf(n)>=0||(a[n]=t[n]);return a}function d(t){return requestAnimationFrame(t)}function f(t){cancelAnimationFrame(t)}function h(t){return document.hasFocus()&&document.activeElement===t}function m(t){return a.useCallback(function(){var e=t.current,n="undefined"!=typeof window&&e instanceof window.HTMLElement;if(!e||!n)return null;if("INPUT"!==e.nodeName&&(e=e.querySelector("input")),!e)throw new Error("react-input-mask: inputComponent doesn't contain input node");return e},[t])}function g(t,e){var n=a.useRef({start:null,end:null}),i=m(t),r=a.useCallback(function(){return function(t){var e=t.selectionStart,n=t.selectionEnd;return{start:e,end:n,length:n-e}}(i())},[i]),s=a.useCallback(function(){return n.current},[]),o=a.useCallback(function(t){var e=i();e&&h(e)&&(function(t,e,n){void 0===n&&(n=e),t.setSelectionRange(e,n)}(e,t.start,t.end),n.current=r())},[i,r]),l=function(t){var e=a.useRef(null),n=a.useCallback(function(){null===e.current&&function n(){t(),e.current=d(n)}()},[t]),i=a.useCallback(function(){f(e.current),e.current=null},[]);return a.useEffect(function(){e.current&&(i(),n())},[n,i]),a.useEffect(f,[]),[n,i]}(a.useCallback(function(){n.current=r()},[r])),u=l[0],c=l[1];return a.useLayoutEffect(function(){if(e){var t=i();return t.addEventListener("focus",u),t.addEventListener("blur",c),h(t)&&u(),function(){t.removeEventListener("focus",u),t.removeEventListener("blur",c),c()}}}),{getSelection:r,getLastSelection:s,setSelection:o}}function p(t,e){var n=a.useRef(),i=g(n,e),r=i.getSelection,s=i.getLastSelection,o=i.setSelection,l=function(t,e){var n=m(t),i=a.useRef(e);return{getValue:a.useCallback(function(){return n().value},[n]),getLastValue:a.useCallback(function(){return i.current},[]),setValue:a.useCallback(function(t){i.current=t;var e=n();e&&(e.value=t)},[n])}}(n,t),u=l.getValue,c=l.getLastValue,d=l.setValue;return{inputRef:n,getInputState:function(){return{value:u(),selection:r()}},getLastInputState:function(){return{value:c(),selection:s()}},setInputState:function(t){var e=t.value,n=t.selection;d(e),o(n)}}}n("2W6z");var v=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],b={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/};var y=function(t){var e=this;this.isCharacterAllowedAtPosition=function(t,n){var i=e.maskOptions.maskPlaceholder;return!!e.isCharacterFillingPosition(t,n)||!!i&&i[n]===t},this.isCharacterFillingPosition=function(t,n){var i=e.maskOptions.mask;if(!t||n>=i.length)return!1;if(!e.isPositionEditable(n))return i[n]===t;var a=i[n];return new RegExp(a).test(t)},this.isPositionEditable=function(t){var n=e.maskOptions,i=n.mask,a=n.permanents;return t<i.length&&-1===a.indexOf(t)},this.isValueEmpty=function(t){return t.split("").every(function(t,n){return!e.isPositionEditable(n)||!e.isCharacterFillingPosition(t,n)})},this.isValueFilled=function(t){return e.getFilledLength(t)===e.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(t){var n=e.getFilledLength(t),i=e.getRightEditablePosition(n);return{start:i,end:i}},this.getFilledLength=function(t){return function(t,e){for(var n=t.length-1;n>=0;n--)if(e(t[n],n))return n;return-1}(t.split(""),function(t,n){return e.isPositionEditable(n)&&e.isCharacterFillingPosition(t,n)})+1},this.getStringFillingLengthAtPosition=function(t,n){return t.split("").reduce(function(t,n){return e.insertCharacterAtPosition(t,n,t.length)},function(t,e){void 0===e&&(e=1);for(var n="",i=0;i<e;i++)n+=t;return n}(" ",n)).length-n},this.getLeftEditablePosition=function(t){for(var n=t;n>=0;n--)if(e.isPositionEditable(n))return n;return null},this.getRightEditablePosition=function(t){for(var n=e.maskOptions.mask,i=t;i<n.length;i++)if(e.isPositionEditable(i))return i;return null},this.formatValue=function(t){var n=e.maskOptions,i=n.maskPlaceholder,a=n.mask;if(!i){for(t=e.insertStringAtPosition("",t,0);t.length<a.length&&!e.isPositionEditable(t.length);)t+=a[t.length];return t}return e.insertStringAtPosition(i,t,0)},this.clearRange=function(t,n,i){if(!i)return t;var a=n+i,r=e.maskOptions,s=r.maskPlaceholder,o=r.mask,l=t.split("").map(function(t,i){var r=e.isPositionEditable(i);return!s&&i>=a&&!r?"":i<n||i>=a?t:r?s?s[i]:"":o[i]}).join("");return e.formatValue(l)},this.insertCharacterAtPosition=function(t,n,i){var a=e.maskOptions,r=a.mask,s=a.maskPlaceholder;if(i>=r.length)return t;var o=e.isCharacterAllowedAtPosition(n,i),l=e.isPositionEditable(i),u=e.getRightEditablePosition(i),c=s&&u?n===s[u]:null,d=t.slice(0,i);return!o&&l||(t=d+(o?n:r[i])),o||l||c||(t=e.insertCharacterAtPosition(t,n,i+1)),t},this.insertStringAtPosition=function(t,n,i){var a=e.maskOptions,r=a.mask,s=a.maskPlaceholder;if(!n||i>=r.length)return t;var o=n.split(""),l=e.isValueFilled(t)||!!s,u=t.slice(i);return t=o.reduce(function(t,n){return e.insertCharacterAtPosition(t,n,t.length)},t.slice(0,i)),l?t+=u.slice(t.length-i):e.isValueFilled(t)?t+=r.slice(t.length).join(""):t=u.split("").filter(function(t,n){return e.isPositionEditable(i+n)}).reduce(function(t,n){var i=e.getRightEditablePosition(t.length);return null===i?t:(e.isPositionEditable(t.length)||(t+=r.slice(t.length,i).join("")),e.insertCharacterAtPosition(t,n,t.length))},t),t},this.processChange=function(t,n){var i=e.maskOptions,a=i.mask,r=i.prefix,s=i.lastEditablePosition,o=t.value,l=t.selection,u=n.value,c=n.selection,d=o,f="",h=0,m=0,g=Math.min(c.start,l.start);return l.end>c.start?(f=d.slice(c.start,l.end),m=(h=e.getStringFillingLengthAtPosition(f,g))?c.length:0):d.length<u.length&&(m=u.length-d.length),d=u,m&&(1!==m||c.length||(g=c.start===l.start?e.getRightEditablePosition(l.start):e.getLeftEditablePosition(l.start)),d=e.clearRange(d,g,m)),d=e.insertStringAtPosition(d,f,g),(g+=h)>=a.length?g=a.length:g<r.length&&!h?g=r.length:g>=r.length&&g<s&&h&&(g=e.getRightEditablePosition(g)),{value:d=e.formatValue(d),enteredString:f,selection:{start:g,end:g}}},this.maskOptions=function(t){var e=t.mask,n=t.maskPlaceholder,i=[];if(!e)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if("string"==typeof e){var a=!1,r="";e.split("").forEach(function(t){a||"\\"!==t?(!a&&b[t]||i.push(r.length),r+=t,a=!1):a=!0}),e=r.split("").map(function(t,e){return-1===i.indexOf(e)?b[t]:t})}else e.forEach(function(t,e){"string"==typeof t&&i.push(e)});n&&(n=1===n.length?e.map(function(t,e){return-1!==i.indexOf(e)?t:n}):n.split(""),i.forEach(function(t){n[t]=e[t]}),n=n.join(""));for(var s=i.filter(function(t,e){return t===e}).map(function(t){return e[t]}).join(""),o=e.length-1;-1!==i.indexOf(o);)o--;return{maskPlaceholder:n,prefix:s,mask:e,lastEditablePosition:o,permanents:i}}(t)},k=function(t){function e(){return t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=c(t,["children"]);return r.cloneElement(e,n)},e}(r.Component),P=a.forwardRef(function(t,e){var n=t.alwaysShowMask,i=t.children,u=t.mask,f=t.maskPlaceholder,g=t.beforeMaskedStateChange,b=c(t,["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"]);!function(t){var e=t.mask,n=t.maskPlaceholder;e&&n&&1!==n.length&&n.length!==e.length&&o(!1)}(t);var P=new y({mask:u,maskPlaceholder:f}),S=!!u,E=!b.disabled&&!b.readOnly,C=null!==t.value&&void 0!==t.value,w=function(t){var e=a.useRef();return a.useEffect(function(){e.current=t}),e.current}(S),j=p(function(t){return""+t}((C?t.value:t.defaultValue)||""),S),L=j.inputRef,N=j.getInputState,O=j.setInputState,x=j.getLastInputState,R=m(L);if(S&&C){var F=R(),A=F&&h(F)||n||t.value?P.formatValue(t.value):t.value;g&&(A=g({nextState:{value:A,selection:{start:null,end:null}}}).value),O(l({},x(),{value:A}))}var T=x(),I=T.selection,V=T.value;a.useLayoutEffect(function(){if(S){var t=h(R()),e=I,i=N(),a=l({},i);if(!C){var r=i.value,s=P.formatValue(r),o=P.isValueEmpty(s);!o||t||n?a.value=s:o&&!t&&(a.value="")}t&&!w?a.selection=P.getDefaultSelectionForValue(a.value):C&&t&&e&&null!==e.start&&null!==e.end&&(a.selection=e),g&&(a=g({currentState:i,nextState:a})),O(a)}});var D=l({},b,{onFocus:function(e){L.current=e.target;var n=N().value;if(S&&!P.isValueFilled(n)){var i=P.formatValue(n),a=P.getDefaultSelectionForValue(i),r={value:i,selection:a};g&&(i=(r=g({currentState:N(),nextState:r})).value,a=r.selection),O(r),i!==n&&t.onChange&&t.onChange(e),d(function(){O(x())})}t.onFocus&&t.onFocus(e)},onBlur:function(e){var i=N().value,a=x().value;if(S&&!n&&P.isValueEmpty(a)){var r="",s={value:r,selection:{start:null,end:null}};g&&(r=(s=g({currentState:N(),nextState:s})).value),O(s),r!==i&&t.onChange&&t.onChange(e)}t.onBlur&&t.onBlur(e)},onChange:S&&E?function(e){var n=N(),i=x(),a=P.processChange(n,i);g&&(a=g({currentState:n,previousState:i,nextState:a})),O(a),t.onChange&&t.onChange(e)}:t.onChange,onMouseDown:S&&E?function(e){var n=R(),i=N().value;if(!h(n)&&!P.isValueFilled(i)){var a=e.clientX,r=e.clientY,s=(new Date).getTime();document.addEventListener("mouseup",function t(e){if(document.removeEventListener("mouseup",t),h(n)){var i=Math.abs(e.clientX-a),o=Math.abs(e.clientY-r),u=Math.max(i,o),c=(new Date).getTime()-s;if(u<=10&&c<=200||u<=5&&c<=300){var d=x(),f=l({},d,{selection:P.getDefaultSelectionForValue(d.value)});O(f)}}})}t.onMouseDown&&t.onMouseDown(e)}:t.onMouseDown,ref:function(t){L.current=s.findDOMNode(t),function(t){return"function"==typeof t}(e)?e(t):null!==e&&"object"==typeof e&&(e.current=t)},value:S&&C?V:t.value});return i?(function(t,e){v.filter(function(n){return null!=e.props[n]&&e.props[n]!==t[n]}).length&&o(!1)}(t,i),r.createElement(k,D,i)):r.createElement("input",D)});P.displayName="InputMask",P.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},t.exports=P},QLaP:function(t,e,n){"use strict";t.exports=function(t,e,n,i,a,r,s,o){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,a,r,s,o],c=0;(l=new Error(e.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},RNiq:function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var i=n("0iUn"),a=n("sLSF"),r=n("MI3g"),s=n("a7VT"),o=n("AT/M"),l=n("Tit0"),u=n("vYYK"),c=n("q1tI"),d=n.n(c),f=n("5Yp1"),h=n("qPgm"),m=n("82Mt"),g=n.n(m),p=d.a.createElement,v=function(t){function e(t){var n;return Object(i.a)(this,e),n=Object(r.a)(this,Object(s.a)(e).call(this,t)),Object(u.a)(Object(o.a)(n),"getList",function(){h.a.get("/activity").then(function(t){n.setState({list:t.data})}).catch(function(t){n.setState({messagetext:"Not possible to list the activities",messagetype:"notification is-danger"})})}),Object(u.a)(Object(o.a)(n),"getProjectList",function(){h.a.get("/project/active").then(function(t){n.setState({projectList:t.data,projectId:t.data[0].id})}).catch(function(t){n.setState({messagetext:"Not possible to list the projects",messagetype:"notification is-danger"})})}),n.state={list:[],projectList:[],type:"REGULAR",projectId:"",datew:"",startTime:"",endTime:"",description:"",messagetext:"",messagetype:"",editmode:0,id:null},n.handleInputChange=n.handleInputChange.bind(Object(o.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(o.a)(n)),n.cancel=n.cancel.bind(Object(o.a)(n)),n}return Object(l.a)(e,t),Object(a.a)(e,[{key:"componentDidMount",value:function(){this.getList(),this.getProjectList(),this.reloadForm()}},{key:"cancel",value:function(){this.reloadForm()}},{key:"reloadForm",value:function(){this.setState({datew:this.formatDate(new Date),startTime:"07:30",endTime:"17:30",editmode:0,id:null,type:"REGULAR",description:"",messagetext:"",messagetype:""})}},{key:"handleInputChange",value:function(t){var e=t.target.value,n=t.target.name;this.setState(Object(u.a)({},n,e))}},{key:"formatDate",value:function(t){var e=new Date(t),n=""+(e.getMonth()+1),i=""+e.getDate(),a=e.getFullYear();return n.length<2&&(n="0"+n),i.length<2&&(i="0"+i),[a,n,i].join("-")}},{key:"handleSubmit",value:function(t){var e=this;null!=this.state.id?h.a.put("/activity/"+this.state.id,this.state).then(function(){e.setState({messagetext:"Activity updated",messagetype:"notification is-success"}),e.reloadForm(),e.getList()}).catch(function(t){console.log("error aqui",t),e.setState({messagetext:"Not possible to update the activity",messagetype:"notification is-danger"})}):h.a.post("/activity",this.state).then(function(){e.setState({messagetext:"Saved...",messagetype:"notification is-success"}),e.getList()}).catch(function(t){console.log("error aqui",t),e.setState({messagetext:"Not possible to create the activity",messagetype:"notification is-danger"})}),t.preventDefault()}},{key:"edit",value:function(t){this.setState({editmode:1,id:t.id,type:t.type,projectId:t.projectId,datew:t.datew,startTime:t.startTime,endTime:t.endTime,description:t.description})}},{key:"delete",value:function(t){var e=this;confirm("Are you sure")&&h.a.delete("/activity/"+t).then(function(){e.getList()}).catch(function(t){return null})}},{key:"render",value:function(){var t=this;return p(f.a,{messagetext:this.state.messagetext,messagetype:this.state.messagetype},p("form",{onSubmit:this.handleSubmit},p("div",{className:"table-container"},p("table",{className:"table is-fullwidth  is-hoverable"},p("thead",null,p("tr",null,p("th",null,"Type"),p("th",null,"Project"),p("th",null,"Date"),p("th",null,"Start"),p("th",null,"End"),p("th",null,"Description"),p("th",null))),p("tbody",null,p("tr",null,p("td",null,p("div",{className:"field"},p("div",{className:"control"},p("div",{className:"select"},p("select",{name:"type",value:this.state.type,onChange:this.handleInputChange},p("option",{value:"REGULAR"},"REGULAR"),p("option",{value:"EXTRA"},"EXTRA")))))),p("td",null,p("div",{className:"field"},p("div",{className:"control"},p("div",{className:"select"},p("select",{name:"projectId",value:this.state.projectId,onChange:this.handleInputChange},this.state.projectList.map(function(t,e){return p("option",{key:t.id,value:t.id},t.name)})))))),p("td",null,p("div",{className:"field"},p("div",{className:"control"},p(g.a,{mask:"9999-99-99",className:"input",type:"text",placeholder:"",name:"datew",onChange:this.handleInputChange,value:this.state.datew,required:!0})))),p("td",null,p("div",{className:"field"},p("div",{className:"control"},p(g.a,{mask:"99:99",className:"input",type:"text",placeholder:"00:00",name:"startTime",value:this.state.startTime,onChange:this.handleInputChange,required:!0})))),p("td",null,p("div",{className:"field"},p("div",{className:"control"},p(g.a,{mask:"99:99",className:"input",type:"text",placeholder:"00:00",name:"endTime",value:this.state.endTime,onChange:this.handleInputChange,required:!0})))),p("td",null,p("div",{className:"field"},p("div",{className:"control"},p("input",{className:"input",type:"text",placeholder:"",name:"description",maxLength:"255",value:this.state.description,onChange:this.handleInputChange})))),p("td",{width:"10%"},0==this.state.editmode&&p("button",{className:"button is-primary",type:"submit"},"Add"),1==this.state.editmode&&p("div",null,p("button",{className:"button is-small is-link",type:"submit"},"Save"),p("button",{className:"button is-small is-outlined",type:"button",onClick:this.cancel.bind()},"Cancel")))),this.state.list.map(function(e,n){return p("tr",{key:e.id,className:"EXTRA"==e.type?"is-selected":""},p("td",{align:"center"},e.type),p("td",{align:"center"},e.projectName),p("td",{align:"center"},e.datew),p("td",{align:"center",colSpan:"2"},e.startTime," to ",e.endTime," (",e.timeDiff,")"),p("td",{align:"left"},e.description),p("td",{align:"center"},p("button",{className:"button is-white is-small",type:"button",onClick:t.edit.bind(t,e)},p("i",{className:"fas fa-pencil-alt"})),p("button",{className:"button is-danger is-small",type:"button",onClick:t.delete.bind(t,e.id)},p("i",{className:"fas fa-minus-circle"}))))}))))))}}]),e}(d.a.Component)},vYYK:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("hfKm"),a=n.n(i);function r(t,e,n){return e in t?a()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},vlRD:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n("RNiq")}])}},[["vlRD",0,1]]]);